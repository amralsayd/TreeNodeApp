@model TreeNodeApp.Models.TreeNode

<div class="panel-group" id="accordion-@Model.node_parent_id">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion-@Model.node_parent_id" href="#collapse-@Model.node_id">
                    <span>@Model.node_name_ar</span>
                </a>
                @if (Request.IsAuthenticated)
            {
                    <p>
                        @Html.ActionLink("Add", "Create", new { id = Model.node_id }) |
                        @Html.ActionLink("Edit", "Edit", new { id = Model.node_id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = Model.node_id },
                        new { onclick = Model.TreeNodeChilds != null && Model.TreeNodeChilds.Count() > 0 ? "return confirm('Are you sure you wish to delete this parent?');" : "" })
                    </p>
                }
            </h4>
        </div><!--/.panel-heading -->
        <div id="collapse-@Model.node_id" class="panel-collapse collapse in">
            <div class="panel-body">
                <div class="col-md-12">


                    @if (Model.TreeNodeChilds != null && Model.TreeNodeChilds.Count() > 0)
                    {
                        foreach (var item in Model.TreeNodeChilds)
                        {
                            @Html.Partial("View", item);
                        }
                    }
                </div>
            </div><!--/.panel-body -->
        </div><!--/.panel-collapse -->
    </div><!-- /.panel -->
</div><!-- /.panel -->


